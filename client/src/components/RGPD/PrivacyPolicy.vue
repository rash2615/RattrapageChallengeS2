<template>
  <div class="privacy-policy">
    <div class="privacy-header">
      <h1 class="privacy-title">Politique de confidentialit√©</h1>
      <p class="privacy-subtitle">Derni√®re mise √† jour : {{ lastUpdated }}</p>
    </div>

    <div class="privacy-content">
      <!-- Introduction -->
      <section class="privacy-section">
        <h2 class="section-title">1. Introduction</h2>
        <p>
          SPARK s'engage √† prot√©ger votre vie priv√©e et vos donn√©es personnelles. 
          Cette politique de confidentialit√© explique comment nous collectons, 
          utilisons et prot√©geons vos informations lorsque vous utilisez notre site web.
        </p>
        <p>
          En utilisant notre site, vous acceptez les pratiques d√©crites dans cette politique.
        </p>
      </section>

      <!-- Collecte des donn√©es -->
      <section class="privacy-section">
        <h2 class="section-title">2. Donn√©es collect√©es</h2>
        
        <h3 class="subsection-title">2.1 Donn√©es que vous nous fournissez</h3>
        <ul class="privacy-list">
          <li><strong>Informations de compte :</strong> nom, pr√©nom, adresse e-mail, mot de passe</li>
          <li><strong>Informations de commande :</strong> adresse de livraison, informations de facturation</li>
          <li><strong>Communications :</strong> messages, demandes de support</li>
          <li><strong>Pr√©f√©rences :</strong> param√®tres de compte, pr√©f√©rences de communication</li>
        </ul>

        <h3 class="subsection-title">2.2 Donn√©es collect√©es automatiquement</h3>
        <ul class="privacy-list">
          <li><strong>Donn√©es de navigation :</strong> pages visit√©es, dur√©e de visite, liens cliqu√©s</li>
          <li><strong>Donn√©es techniques :</strong> adresse IP, type de navigateur, syst√®me d'exploitation</li>
          <li><strong>Cookies :</strong> fichiers de suivi pour am√©liorer votre exp√©rience</li>
          <li><strong>Donn√©es de localisation :</strong> pays, r√©gion (si autoris√©)</li>
        </ul>
      </section>

      <!-- Utilisation des donn√©es -->
      <section class="privacy-section">
        <h2 class="section-title">3. Utilisation de vos donn√©es</h2>
        
        <div class="usage-grid">
          <div class="usage-card">
            <div class="usage-icon">üõí</div>
            <h4 class="usage-title">Traitement des commandes</h4>
            <p>Traiter et exp√©dier vos commandes, g√©rer les retours et remboursements</p>
          </div>
          
          <div class="usage-card">
            <div class="usage-icon">üë§</div>
            <h4 class="usage-title">Gestion du compte</h4>
            <p>Cr√©er et maintenir votre compte utilisateur, authentification</p>
          </div>
          
          <div class="usage-card">
            <div class="usage-icon">üìß</div>
            <h4 class="usage-title">Communication</h4>
            <p>Vous contacter concernant vos commandes, promotions, support client</p>
          </div>
          
          <div class="usage-card">
            <div class="usage-icon">üìä</div>
            <h4 class="usage-title">Am√©lioration du service</h4>
            <p>Analyser l'utilisation du site, am√©liorer nos produits et services</p>
          </div>
          
          <div class="usage-card">
            <div class="usage-icon">üõ°Ô∏è</div>
            <h4 class="usage-title">S√©curit√©</h4>
            <p>Prot√©ger contre la fraude, d√©tecter les activit√©s suspectes</p>
          </div>
          
          <div class="usage-card">
            <div class="usage-icon">‚öñÔ∏è</div>
            <h4 class="usage-title">Conformit√© l√©gale</h4>
            <p>Respecter les obligations l√©gales, r√©pondre aux demandes des autorit√©s</p>
          </div>
        </div>
      </section>

      <!-- Base l√©gale -->
      <section class="privacy-section">
        <h2 class="section-title">4. Base l√©gale du traitement</h2>
        
        <div class="legal-basis">
          <div class="basis-item">
            <h4 class="basis-title">Ex√©cution du contrat</h4>
            <p>Pour traiter vos commandes et fournir nos services</p>
          </div>
          
          <div class="basis-item">
            <h4 class="basis-title">Int√©r√™t l√©gitime</h4>
            <p>Pour am√©liorer nos services et pr√©venir la fraude</p>
          </div>
          
          <div class="basis-item">
            <h4 class="basis-title">Consentement</h4>
            <p>Pour les communications marketing et les cookies non essentiels</p>
          </div>
          
          <div class="basis-item">
            <h4 class="basis-title">Obligation l√©gale</h4>
            <p>Pour respecter les obligations comptables et fiscales</p>
          </div>
        </div>
      </section>

      <!-- Partage des donn√©es -->
      <section class="privacy-section">
        <h2 class="section-title">5. Partage de vos donn√©es</h2>
        
        <p>Nous ne vendons jamais vos donn√©es personnelles. Nous pouvons partager vos informations avec :</p>
        
        <div class="sharing-list">
          <div class="sharing-item">
            <h4 class="sharing-title">Prestataires de services</h4>
            <p>Partenaires de confiance qui nous aident √† fournir nos services (livraison, paiement, support)</p>
          </div>
          
          <div class="sharing-item">
            <h4 class="sharing-title">Autorit√©s l√©gales</h4>
            <p>Lorsque requis par la loi ou pour prot√©ger nos droits l√©gaux</p>
          </div>
          
          <div class="sharing-item">
            <h4 class="sharing-title">Partenaires commerciaux</h4>
            <p>Uniquement avec votre consentement explicite pour des offres personnalis√©es</p>
          </div>
        </div>
      </section>

      <!-- Conservation des donn√©es -->
      <section class="privacy-section">
        <h2 class="section-title">6. Conservation des donn√©es</h2>
        
        <div class="retention-table">
          <div class="retention-header">
            <span class="retention-type">Type de donn√©es</span>
            <span class="retention-period">Dur√©e de conservation</span>
          </div>
          
          <div class="retention-row">
            <span class="retention-type">Donn√©es de compte</span>
            <span class="retention-period">3 ans apr√®s la derni√®re activit√©</span>
          </div>
          
          <div class="retention-row">
            <span class="retention-type">Donn√©es de commande</span>
            <span class="retention-period">10 ans (obligation l√©gale)</span>
          </div>
          
          <div class="retention-row">
            <span class="retention-type">Donn√©es de marketing</span>
            <span class="retention-period">Jusqu'au retrait du consentement</span>
          </div>
          
          <div class="retention-row">
            <span class="retention-type">Cookies analytiques</span>
            <span class="retention-period">2 ans maximum</span>
          </div>
        </div>
      </section>

      <!-- Vos droits -->
      <section class="privacy-section">
        <h2 class="section-title">7. Vos droits</h2>
        
        <p>Conform√©ment au RGPD, vous disposez des droits suivants :</p>
        
        <div class="rights-grid">
          <div class="right-card">
            <div class="right-icon">üëÅÔ∏è</div>
            <h4 class="right-title">Droit d'acc√®s</h4>
            <p>Obtenir une copie de vos donn√©es personnelles</p>
          </div>
          
          <div class="right-card">
            <div class="right-icon">‚úèÔ∏è</div>
            <h4 class="right-title">Droit de rectification</h4>
            <p>Corriger des donn√©es inexactes ou incompl√®tes</p>
          </div>
          
          <div class="right-card">
            <div class="right-icon">üóëÔ∏è</div>
            <h4 class="right-title">Droit √† l'effacement</h4>
            <p>Demander la suppression de vos donn√©es</p>
          </div>
          
          <div class="right-card">
            <div class="right-icon">‚è∏Ô∏è</div>
            <h4 class="right-title">Droit √† la limitation</h4>
            <p>Limiter le traitement de vos donn√©es</p>
          </div>
          
          <div class="right-card">
            <div class="right-icon">üì§</div>
            <h4 class="right-title">Droit √† la portabilit√©</h4>
            <p>R√©cup√©rer vos donn√©es dans un format structur√©</p>
          </div>
          
          <div class="right-card">
            <div class="right-icon">‚ùå</div>
            <h4 class="right-title">Droit d'opposition</h4>
            <p>Vous opposer au traitement de vos donn√©es</p>
          </div>
        </div>
        
        <div class="rights-actions">
          <button class="rights-btn" @click="requestDataAccess">
            Demander l'acc√®s √† mes donn√©es
          </button>
          <button class="rights-btn" @click="requestDataDeletion">
            Demander la suppression de mes donn√©es
          </button>
          <button class="rights-btn" @click="downloadData">
            T√©l√©charger mes donn√©es
          </button>
        </div>
      </section>

      <!-- Cookies -->
      <section class="privacy-section">
        <h2 class="section-title">8. Cookies et technologies similaires</h2>
        
        <p>Nous utilisons des cookies pour am√©liorer votre exp√©rience sur notre site :</p>
        
        <div class="cookie-types">
          <div class="cookie-type">
            <h4 class="cookie-type-title">Cookies essentiels</h4>
            <p>N√©cessaires au fonctionnement du site (panier, authentification)</p>
            <span class="cookie-status required">Obligatoire</span>
          </div>
          
          <div class="cookie-type">
            <h4 class="cookie-type-title">Cookies analytiques</h4>
            <p>Pour analyser l'utilisation du site et am√©liorer nos services</p>
            <span class="cookie-status optional">Optionnel</span>
          </div>
          
          <div class="cookie-type">
            <h4 class="cookie-type-title">Cookies marketing</h4>
            <p>Pour personnaliser les publicit√©s et les offres</p>
            <span class="cookie-status optional">Optionnel</span>
          </div>
        </div>
        
        <div class="cookie-actions">
          <button class="cookie-btn" @click="manageCookies">
            G√©rer mes pr√©f√©rences de cookies
          </button>
        </div>
      </section>

      <!-- S√©curit√© -->
      <section class="privacy-section">
        <h2 class="section-title">9. S√©curit√© des donn√©es</h2>
        
        <div class="security-measures">
          <div class="security-item">
            <div class="security-icon">üîí</div>
            <h4 class="security-title">Chiffrement</h4>
            <p>Donn√©es chiffr√©es en transit et au repos</p>
          </div>
          
          <div class="security-item">
            <div class="security-icon">üõ°Ô∏è</div>
            <h4 class="security-title">Acc√®s s√©curis√©</h4>
            <p>Acc√®s restreint aux donn√©es personnelles</p>
          </div>
          
          <div class="security-item">
            <div class="security-icon">üîç</div>
            <h4 class="security-title">Surveillance</h4>
            <p>Monitoring continu des syst√®mes de s√©curit√©</p>
          </div>
          
          <div class="security-item">
            <div class="security-icon">üìã</div>
            <h4 class="security-title">Formation</h4>
            <p>Formation du personnel sur la protection des donn√©es</p>
          </div>
        </div>
      </section>

      <!-- Contact -->
      <section class="privacy-section">
        <h2 class="section-title">10. Contact et r√©clamations</h2>
        
        <div class="contact-info">
          <div class="contact-item">
            <h4 class="contact-title">D√©l√©gu√© √† la protection des donn√©es (DPO)</h4>
            <p>Email : dpo@spark-ecommerce.com</p>
            <p>T√©l√©phone : +33 1 23 45 67 89</p>
          </div>
          
          <div class="contact-item">
            <h4 class="contact-title">Autorit√© de contr√¥le</h4>
            <p>CNIL (Commission Nationale de l'Informatique et des Libert√©s)</p>
            <p>Site web : <a href="https://www.cnil.fr" target="_blank" rel="noopener">www.cnil.fr</a></p>
          </div>
        </div>
      </section>

      <!-- Modifications -->
      <section class="privacy-section">
        <h2 class="section-title">11. Modifications de cette politique</h2>
        <p>
          Nous pouvons modifier cette politique de confidentialit√©. Les modifications 
          importantes vous seront notifi√©es par e-mail ou via une notification sur le site.
        </p>
      </section>
    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue'

// √âtat local
const lastUpdated = ref('15 d√©cembre 2024')

// Actions
const requestDataAccess = () => {
  // TODO: Impl√©menter la demande d'acc√®s aux donn√©es
  console.log('Demande d\'acc√®s aux donn√©es')
  alert('Fonctionnalit√© en cours de d√©veloppement')
}

const requestDataDeletion = () => {
  // TODO: Impl√©menter la demande de suppression des donn√©es
  console.log('Demande de suppression des donn√©es')
  alert('Fonctionnalit√© en cours de d√©veloppement')
}

const downloadData = () => {
  // TODO: Impl√©menter le t√©l√©chargement des donn√©es
  console.log('T√©l√©chargement des donn√©es')
  alert('Fonctionnalit√© en cours de d√©veloppement')
}

const manageCookies = () => {
  // TODO: Ouvrir le gestionnaire de cookies
  console.log('Gestion des cookies')
  alert('Fonctionnalit√© en cours de d√©veloppement')
}
</script>

<style scoped>
/* Container principal */
.privacy-policy {
  max-width: 800px;
  margin: 0 auto;
  padding: 2rem;
  line-height: 1.6;
  color: #374151;
}

/* Header */
.privacy-header {
  text-align: center;
  margin-bottom: 3rem;
  padding-bottom: 2rem;
  border-bottom: 2px solid #e5e7eb;
}

.privacy-title {
  font-size: 2.5rem;
  font-weight: 700;
  color: #1f2937;
  margin: 0 0 0.5rem 0;
}

.privacy-subtitle {
  font-size: 1rem;
  color: #6b7280;
  margin: 0;
}

/* Sections */
.privacy-section {
  margin-bottom: 3rem;
}

.section-title {
  font-size: 1.5rem;
  font-weight: 600;
  color: #1f2937;
  margin: 0 0 1rem 0;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid #e5e7eb;
}

.subsection-title {
  font-size: 1.25rem;
  font-weight: 600;
  color: #374151;
  margin: 1.5rem 0 0.75rem 0;
}

/* Listes */
.privacy-list {
  margin: 1rem 0;
  padding-left: 1.5rem;
}

.privacy-list li {
  margin-bottom: 0.5rem;
}

/* Grilles */
.usage-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.usage-card {
  background: #f9fafb;
  padding: 1.5rem;
  border-radius: 0.75rem;
  border: 1px solid #e5e7eb;
  text-align: center;
}

.usage-icon {
  font-size: 2rem;
  margin-bottom: 1rem;
}

.usage-title {
  font-size: 1.125rem;
  font-weight: 600;
  color: #374151;
  margin: 0 0 0.75rem 0;
}

.usage-card p {
  color: #6b7280;
  margin: 0;
  font-size: 0.875rem;
}

/* Base l√©gale */
.legal-basis {
  display: grid;
  gap: 1rem;
  margin: 1.5rem 0;
}

.basis-item {
  background: #f0f9ff;
  padding: 1.5rem;
  border-radius: 0.75rem;
  border-left: 4px solid #3b82f6;
}

.basis-title {
  font-size: 1.125rem;
  font-weight: 600;
  color: #1e40af;
  margin: 0 0 0.5rem 0;
}

.basis-item p {
  color: #1e3a8a;
  margin: 0;
}

/* Partage */
.sharing-list {
  display: grid;
  gap: 1rem;
  margin: 1.5rem 0;
}

.sharing-item {
  background: #fef3c7;
  padding: 1.5rem;
  border-radius: 0.75rem;
  border-left: 4px solid #f59e0b;
}

.sharing-title {
  font-size: 1.125rem;
  font-weight: 600;
  color: #92400e;
  margin: 0 0 0.5rem 0;
}

.sharing-item p {
  color: #78350f;
  margin: 0;
}

/* Table de conservation */
.retention-table {
  background: white;
  border: 1px solid #e5e7eb;
  border-radius: 0.75rem;
  overflow: hidden;
  margin: 1.5rem 0;
}

.retention-header {
  display: grid;
  grid-template-columns: 1fr 1fr;
  background: #f9fafb;
  font-weight: 600;
  color: #374151;
  padding: 1rem 1.5rem;
  border-bottom: 1px solid #e5e7eb;
}

.retention-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  padding: 1rem 1.5rem;
  border-bottom: 1px solid #e5e7eb;
}

.retention-row:last-child {
  border-bottom: none;
}

.retention-type {
  font-weight: 500;
  color: #374151;
}

.retention-period {
  color: #6b7280;
}

/* Droits */
.rights-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.right-card {
  background: #f0fdf4;
  padding: 1.5rem;
  border-radius: 0.75rem;
  border: 1px solid #bbf7d0;
  text-align: center;
}

.right-icon {
  font-size: 2rem;
  margin-bottom: 1rem;
}

.right-title {
  font-size: 1rem;
  font-weight: 600;
  color: #166534;
  margin: 0 0 0.75rem 0;
}

.right-card p {
  color: #15803d;
  margin: 0;
  font-size: 0.875rem;
}

.rights-actions {
  display: flex;
  gap: 1rem;
  margin: 2rem 0;
  flex-wrap: wrap;
}

.rights-btn {
  padding: 0.75rem 1.5rem;
  background: #3b82f6;
  color: white;
  border: none;
  border-radius: 0.5rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.rights-btn:hover {
  background: #2563eb;
  transform: translateY(-1px);
}

/* Cookies */
.cookie-types {
  display: grid;
  gap: 1rem;
  margin: 1.5rem 0;
}

.cookie-type {
  background: #f9fafb;
  padding: 1.5rem;
  border-radius: 0.75rem;
  border: 1px solid #e5e7eb;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.cookie-type-title {
  font-size: 1.125rem;
  font-weight: 600;
  color: #374151;
  margin: 0 0 0.5rem 0;
}

.cookie-type p {
  color: #6b7280;
  margin: 0;
}

.cookie-status {
  padding: 0.25rem 0.75rem;
  border-radius: 0.375rem;
  font-size: 0.75rem;
  font-weight: 500;
}

.cookie-status.required {
  background: #fef3c7;
  color: #92400e;
}

.cookie-status.optional {
  background: #dbeafe;
  color: #1e40af;
}

.cookie-actions {
  margin: 1.5rem 0;
}

.cookie-btn {
  padding: 0.75rem 1.5rem;
  background: #10b981;
  color: white;
  border: none;
  border-radius: 0.5rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.cookie-btn:hover {
  background: #059669;
  transform: translateY(-1px);
}

/* S√©curit√© */
.security-measures {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.security-item {
  background: #fef2f2;
  padding: 1.5rem;
  border-radius: 0.75rem;
  border: 1px solid #fecaca;
  text-align: center;
}

.security-icon {
  font-size: 2rem;
  margin-bottom: 1rem;
}

.security-title {
  font-size: 1rem;
  font-weight: 600;
  color: #991b1b;
  margin: 0 0 0.75rem 0;
}

.security-item p {
  color: #b91c1c;
  margin: 0;
  font-size: 0.875rem;
}

/* Contact */
.contact-info {
  display: grid;
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.contact-item {
  background: #f0f9ff;
  padding: 1.5rem;
  border-radius: 0.75rem;
  border-left: 4px solid #0ea5e9;
}

.contact-title {
  font-size: 1.125rem;
  font-weight: 600;
  color: #0c4a6e;
  margin: 0 0 0.75rem 0;
}

.contact-item p {
  color: #075985;
  margin: 0 0 0.5rem 0;
}

.contact-item a {
  color: #0284c7;
  text-decoration: none;
}

.contact-item a:hover {
  text-decoration: underline;
}

/* Responsive */
@media (max-width: 768px) {
  .privacy-policy {
    padding: 1rem;
  }
  
  .privacy-title {
    font-size: 2rem;
  }
  
  .usage-grid,
  .rights-grid,
  .security-measures {
    grid-template-columns: 1fr;
  }
  
  .retention-header,
  .retention-row {
    grid-template-columns: 1fr;
    gap: 0.5rem;
  }
  
  .cookie-type {
    flex-direction: column;
    align-items: flex-start;
    gap: 1rem;
  }
  
  .rights-actions {
    flex-direction: column;
  }
  
  .rights-btn {
    width: 100%;
  }
}
</style>
